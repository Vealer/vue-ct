(function(){"use strict";var t={9359:function(t,e,o){var s=o(9963),n=o(6252);function r(t,e,o,s,r,i){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var i={name:"App"},a=o(3744);const l=(0,a.Z)(i,[["render",r]]);var u=l,c=o(2119);function m(t,e,o,s,r,i){const a=(0,n.up)("Home"),l=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(a,{customers:r.filtered?r.filteredCustomers:r.customers,onFilterCustomers:i.filterCustomers},null,8,["customers","onFilterCustomers"]),(0,n.Wm)(l,{text:"Neue Person anlegen",color:"#FC6E51",onBtnClick:i.addCustomer},null,8,["onBtnClick"])],64)}o(560);const d=t=>((0,n.dD)("data-v-36902fee"),t=t(),(0,n.Cn)(),t),p={class:"container"},f={class:"responsive-table"},h={class:"table-header"},v=d((()=>(0,n._)("div",{class:"col col-1"},"Vorname",-1))),w=d((()=>(0,n._)("div",{class:"col col-2"},"Nachname",-1))),_=d((()=>(0,n._)("div",{class:"col col-3"},"Email",-1))),g={class:"col col-4"},b=["onClick"];function y(t,e,o,s,r,i){const a=(0,n.up)("Filter"),l=(0,n.up)("Customer");return(0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("ul",f,[(0,n._)("li",h,[v,w,_,(0,n._)("div",g,[(0,n.Uk)("Status "),(0,n.Wm)(a,{options:r.options,customers:o.customers,onFilterCustomers:e[0]||(e[0]=e=>t.$emit("filter-customers",e))},null,8,["options","customers"])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.customers,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.id,class:"table-row",onClick:e=>i.showCustomerDetails(t.id)},[(0,n.Wm)(l,{customer:t},null,8,["customer"])],8,b)))),128))])])}var C=o(3577);const O={class:"col col-1","data-label":"Vorname"},k={class:"col col-2","data-label":"Nachname"},D={class:"col col-3","data-label":"Email"},j={class:"col col-4","data-label":"Status"};function S(t,e,o,s,r,i){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",O,(0,C.zw)(o.customer.firstName),1),(0,n._)("div",k,(0,C.zw)(o.customer.lastName),1),(0,n._)("div",D,(0,C.zw)(o.customer.email),1),(0,n._)("div",j,(0,C.zw)(o.customer.status),1)],64)}var N={name:"CustomerComponent",props:{customer:Object}};const U=(0,a.Z)(N,[["render",S],["__scopeId","data-v-41305e15"]]);var Z=U;const F=["value"],H=(0,n._)("option",{value:"married"},"Married",-1),V=(0,n._)("option",{value:"single"},"Single",-1),A=(0,n._)("option",{value:"widow"},"Widow",-1),I=(0,n._)("option",{value:"all"},"Alle",-1);function W(t,e,o,r,i,a){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.selectedOption=t),onChange:e[1]||(e[1]=(...t)=>a.logSelectedOption&&a.logSelectedOption(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.options,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n._)("option",{value:t},(0,C.zw)(t),9,F)])))),128)),H,V,A,I],544)),[[s.bM,i.selectedOption]])}var x={name:"FilterItem",props:{customers:Array,options:Array},data(){return{selectedOption:""}},methods:{logSelectedOption(){console.log(this.selectedOption),this.$emit("filter-customers",this.selectedOption)}}};const z=(0,a.Z)(x,[["render",W]]);var T=z,E={name:"CustomersComponent",props:{customers:Array},components:{Customer:Z,Filter:T},data(){return{options:this.customers.map((t=>t.status))}},methods:{showCustomerDetails(t){this.$router.push(`/customer/${t}`)},async getOptions(){this.options=await this.customers.map((t=>t.status)),await this.options.push("all")}},beforeMount(){this.getOptions()}};const $=(0,a.Z)(E,[["render",y],["__scopeId","data-v-36902fee"]]);var M=$;function P(t,e,o,s,r,i){return(0,n.wg)(),(0,n.iD)("button",{onClick:e[0]||(e[0]=t=>i.onClick()),style:(0,C.j5)({background:o.color}),class:"btn"},(0,C.zw)(o.text),5)}var K={name:"ButtonItem",props:{text:String,color:String},methods:{onClick(){this.$emit("btn-click")}}};const Y=(0,a.Z)(K,[["render",P],["__scopeId","data-v-fdce75f4"]]);var B=Y,Q={name:"HomeView",components:{Home:M,Button:B},data(){return{customers:[],filteredCustomers:[],filtered:!1,options:[]}},methods:{filterCustomers(t){this.filteredCustomers=this.customers.filter((e=>e.status===t)),this.filtered=!0,"all"===t&&(this.filtered=!1)},async fetchCustomers(){const t=await fetch("https://jobs.church.tools/api/persons",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer rIOWnmodkUKuOOyZ5YdoXiPi5H4MXghTKAnwlSwnU70FyseEBAPS1AzuxK1uf2Ntr6HyZhHeyJOAe5QEMYb5nAED0hgil1WL6EOWtSMnxv5YeIUOch3z46XT5ADc5lKsbZRqzPQOXuBHj6iTsbKSCmygrwynHlOetOsIhfDWpe2rRX1x77dZ9TaGOIiFZbiY9MUGbPOLFnn3IdkQazSzJVcLLD1ZZKdylvWXjbyw7aiQtWkQ3U0Ks7HIF3vEjOQZ"}}),e=await t.json();return console.log(e),e},async addCustomer(){const t={id:Math.floor(1e5*Math.random())},e=await fetch("api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await e.json();this.customers=[...this.customers,o],this.$router.push(`/customer/${t.id}`)}}};const X=(0,a.Z)(Q,[["render",m]]);var G=X;const J={class:"router"};function L(t,e,o,s,r,i){const a=(0,n.up)("CustomerDetails"),l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(a),(0,n._)("div",J,[(0,n.Wm)(l,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Zurück")])),_:1})])],64)}const R=t=>((0,n.dD)("data-v-52959fcc"),t=t(),(0,n.Cn)(),t),q={class:"customer-details"},tt={class:"customer-image"},et=["src"],ot={class:"customer-info"},st=R((()=>(0,n._)("label",{for:"firstName"},"Vorname:",-1))),nt=R((()=>(0,n._)("label",{for:"lastName"},"Nachname:",-1))),rt=R((()=>(0,n._)("label",{for:"email"},"Email:",-1))),it=R((()=>(0,n._)("label",{for:"phone"},"Telefon:",-1))),at=R((()=>(0,n._)("label",{for:"address"},"Adresse:",-1))),lt=R((()=>(0,n._)("label",{for:"gender"},"Geschlecht:",-1))),ut=R((()=>(0,n._)("label",{for:"status"},"Status:",-1))),ct=R((()=>(0,n._)("label",{for:"station"},"Station:",-1))),mt=R((()=>(0,n._)("button",{type:"submit"},"Änderung speichern",-1)));function dt(t,e,r,i,a,l){return(0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("form",{onSubmit:e[8]||(e[8]=(0,s.iM)(((...t)=>l.submitForm&&l.submitForm(...t)),["prevent"]))},[(0,n._)("div",tt,[(0,n._)("img",{src:a.customer.image?a.customer.image:o(1544),alt:"Customer Image"},null,8,et)]),(0,n._)("div",ot,[(0,n._)("div",null,[st,(0,n.wy)((0,n._)("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=t=>a.customer.firstName=t)},null,512),[[s.nr,a.customer.firstName]])]),(0,n._)("div",null,[nt,(0,n.wy)((0,n._)("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=t=>a.customer.lastName=t)},null,512),[[s.nr,a.customer.lastName]])]),(0,n._)("div",null,[rt,(0,n.wy)((0,n._)("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>a.customer.email=t)},null,512),[[s.nr,a.customer.email]])]),(0,n._)("div",null,[it,(0,n.wy)((0,n._)("input",{id:"phone","onUpdate:modelValue":e[3]||(e[3]=t=>a.customer.phone=t)},null,512),[[s.nr,a.customer.phone]])]),(0,n._)("div",null,[at,(0,n.wy)((0,n._)("input",{id:"address","onUpdate:modelValue":e[4]||(e[4]=t=>a.customer.address=t)},null,512),[[s.nr,a.customer.address]])]),(0,n._)("div",null,[lt,(0,n.wy)((0,n._)("input",{id:"gender","onUpdate:modelValue":e[5]||(e[5]=t=>a.customer.gender=t)},null,512),[[s.nr,a.customer.gender]])]),(0,n._)("div",null,[ut,(0,n.wy)((0,n._)("input",{id:"status","onUpdate:modelValue":e[6]||(e[6]=t=>a.customer.status=t)},null,512),[[s.nr,a.customer.status]])]),(0,n._)("div",null,[ct,(0,n.wy)((0,n._)("input",{id:"station","onUpdate:modelValue":e[7]||(e[7]=t=>a.customer.station=t)},null,512),[[s.nr,a.customer.station]])]),mt])],32)])}var pt={name:"CustomerDetails",data(){return{customer:[]}},methods:{async fetchCustomer(){const t=await fetch(`http://localhost:5000/customers/${this.$route.params.id}`),e=await t.json();return e},async submitForm(){const t={...this.customer},e=await fetch(`http://localhost:5000/customers/${this.$route.params.id}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}),o=await e.json();this.customer=o}},async created(){this.customer=await this.fetchCustomer()}};const ft=(0,a.Z)(pt,[["render",dt],["__scopeId","data-v-52959fcc"]]);var ht=ft,vt={name:"HomeView",components:{CustomerDetails:ht}};const wt=(0,a.Z)(vt,[["render",L]]);var _t=wt;const gt=(0,c.p7)({history:(0,c.PO)("/vue-ct/"),routes:[{path:"/",component:G},{path:"/customer/:id",component:_t,name:"CustomerDetails"}]});var bt=gt;(0,s.ri)(u).use(bt).mount("#app")},1544:function(t,e,o){t.exports=o.p+"img/image.0e1cf5d7.png"}},e={};function o(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,s,n,r){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],r=t[c][2];for(var a=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(a=!1,r<i&&(i=r));if(a){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,n,r]}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,r,i=s[0],a=s[1],l=s[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(l)var c=l(o)}for(e&&e(s);u<i.length;u++)r=i[u],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(c)},s=self["webpackChunkvue_ct"]=self["webpackChunkvue_ct"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(9359)}));s=o.O(s)})();
//# sourceMappingURL=app.3cc275e7.js.map